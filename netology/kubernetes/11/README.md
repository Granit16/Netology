# Домашнее задание к занятию «Компоненты Kubernetes»

## Задание. Необходимо определить требуемые ресурсы


Для обеспечения отказоустойчивости дял Базы данных и Система кэширование будет реализована через StatefulSet, а Фронтенд и Бекенд - через Deployment.
Суммарная вычислительная мощность расчитана в таблице:
| Компонент  | ОЗУ | CPU |
| ------------- | ------------- | --- |
| База данных  | 12 ГБ (4 ГБ х 3 копии)  | 3 ядра (1 ядро х 3 копии) |
| Кеш  |  12 ГБ (4 ГБ х 3 копии)    |  3 ядра (1 ядро х 3 копии)  |
| Фронтенд   |  250 МБ (50 МБ х 5 копий)  | 1 ядро (0.2 ядра х 5 копий) |
| Бекенд  |  6 ГБ (600 МБ х 10 копий)  | 10 ядер (1 ядро х 10 копий) |
| ИТОГО  | 30.25 ГБ | 17 ядер |

Предлагаю использовать:
 - 3 мастер-ноды с характеристиками: 8 ГБ ОЗУ и 4 ядра CPU
 - 4 рабочие ноды с характеристиками: 12 ГБ ОЗУ и 4 ядра CPU

1. Упаковал приложение, состоящее из двух компанентов в чарт для деплоя в разные окружения, создав соответствующие шаблоны: [**Nginx**](https://github.com/Granit16/Netology/blob/main/netology/kubernetes/10/yaml/nginx-dep.yaml) и [**Multitool**](https://github.com/Granit16/Netology/blob/main/netology/kubernetes/10/yaml/multitool-dep.yaml)
2. Каждый компонент приложения деплоится отдельным deployment’ом

![](https://github.com/Granit16/Netology/blob/main/netology/kubernetes/10/pics/install.png)

3. Образы и тэги приложений заданы переменными:

![](https://github.com/Granit16/Netology/blob/main/netology/kubernetes/10/pics/upgrade.png)
   

## Задание 2. Запустить две версии в разных неймспейсах

1. Запустил несколько копий приложения
2. Одну копию в namespace **app1**, затем изменил в нем версию, вторую - в **app2**
3. Запущенные приложения:

![](https://github.com/Granit16/Netology/blob/main/netology/kubernetes/10/pics/namespace.png)
   
